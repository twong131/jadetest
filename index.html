<!DOCTYPE html>
<html>
<head>
    <title>Commission PDF Links</title>
</head>
<body>
    <h1>Commission PDF Links</h1>
    <ul>
        <!-- List of PDF links with checkboxes and file status -->
        <li>
            <input type="checkbox" class="pdf-checkbox" data-filename="link_to_pdf1.pdf"> <!-- Checkbox for deletion -->
            <a href="link_to_pdf1.pdf">PDF 1</a> (Status: Active)
        </li>
        <li>
            <input type="checkbox" class="pdf-checkbox" data-filename="link_to_pdf2.pdf"> <!-- Checkbox for deletion -->
            <a href="link_to_pdf2.pdf">PDF 2</a> (Status: Expired)
        </li>
        <!-- Add more PDF links here -->
    </ul>

    <button id="delete-button">Delete</button> <!-- Delete button -->

    <script>
        document.getElementById("delete-button").addEventListener("click", function () {
            const checkboxes = document.querySelectorAll('.pdf-checkbox:checked');
            const filenamesToDelete = Array.from(checkboxes).map(checkbox => checkbox.getAttribute('data-filename'));

            // Send an AJAX request to the server to delete the selected files
            if (filenamesToDelete.length > 0) {
                const xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function () {
                    if (xhr.readyState === 4 && xhr.status === 200) {
                        // Handle the response from the server (e.g., update the UI)
                        alert("Selected files deleted successfully!");
                        window.location.reload(); // Refresh the page or update the UI as needed
                    }
                };
                xhr.open("POST", "delete_files.php", true); // Replace with your server-side script
                xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                xhr.send("filenames=" + JSON.stringify(filenamesToDelete));
            } else {
                alert("Please select at least one file to delete.");
            }
        });
    </script>
</body>
</html>
